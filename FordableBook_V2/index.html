<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Flip Book with Reverse Flip</title>
  <style>
    /* 设置页面的背景 */
    body,
    html {
      margin: 0;
      padding: 0;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: black;
    }

    /* 父容器 */
    .book-container {
      perspective: 1000px;
      width: 200px;
      height: 300px;
      position: relative;
    }

    /* 翻页的每个单独页面容器 */
    .page {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transform-origin: left;
      transition: transform 1s;
      z-index: 1;
      /* 用于叠加效果 */
    }

    /* 页面前后 */
    .front,
    .back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
    }

    /* 每一页的样式 */
    .front {
      background-color: #43C2EF;
    }

    .back {
      background-color: #A4D9E1;
      transform: rotateY(-180deg);
    }

    /* 确保图片大小一致 */
    .page-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* 叠加效果，模拟厚度 */
    .page-layer-1 {
      transform: translateX(2px);
    }

    .page-layer-2 {
      transform: translateX(4px);
    }

    .page-layer-3 {
      transform: translateX(6px);
    }
  </style>
  <script>
    let currentPage = 0;
    let isFlippingForward = true;
    const pages = ["swan.jpg", "page1.jpg", "page2.jpg", "page3.jpg"];

    function flipPage() {
      // 根据当前状态决定翻页方向
      if (isFlippingForward) {
        if (currentPage < pages.length) {
          document.getElementById(`page-${currentPage}`).style.transform = "rotateY(-180deg)";
          currentPage++;
          if (currentPage === pages.length) {
            isFlippingForward = false; // 翻到最后一页后，切换为反向翻页
          }
        }
      } else {
        if (currentPage > 0) {
          currentPage--;
          document.getElementById(`page-${currentPage}`).style.transform = "rotateY(0deg)";
          if (currentPage === 0) {
            isFlippingForward = true; // 翻回到第一页后，切换为正向翻页
          }
        }
      }
    }
  </script>
</head>

<body>
  <div class="book-container" onclick="flipPage()">
        <!-- 叠加页面，前面几页稍微错开显示 -->
        <div id="page-0" class="page page-layer-3">
          <div class="front">
            <img src="image1.jpg" alt="Page 1" class="page-img" />
          </div>
          <div class="back">
            <img src="image2.jpg" alt="Page 2" class="page-img" />
          </div>
        </div>
        <div id="page-1" class="page page-layer-2">
          <div class="front">
            <img src="image3.jpg" alt="Page 3" class="page-img" />
          </div>
          <div class="back">
            <img src="image4.jpg" alt="Page 4" class="page-img" />
          </div>
        </div>
        <div id="page-2" class="page page-layer-1">
          <div class="front">
            <img src="image5.jpg" alt="Page 5" class="page-img" />
          </div>
          <div class="back">
            <img src="image6.jpg" alt="Page 6" class="page-img" />
          </div>
        </div>
        <div id="page-3" class="page">
          <div class="front">
            <img src="image7.jpg" alt="Page 7" class="page-img" />
          </div>
          <div class="back">
            <img src="image8.jpg" alt="Page 8" class="page-img" />
          </div>
        </div>
  </div>
</body>

</html>